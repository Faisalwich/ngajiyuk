<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalkulator Zakat - NgajiYuk</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet" />
    <style>
      body {
        font-family: "Plus Jakarta Sans", sans-serif;
      }
      .glass-panel {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.6);
      }
      /* Sembunyikan panah naik-turun di input number */
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    </style>
  </head>
  <body class="bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-100 min-h-screen flex flex-col relative pb-10 text-slate-800">
    <div class="fixed top-0 left-0 w-64 h-64 bg-emerald-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40 -z-10"></div>
    <div class="fixed bottom-0 right-0 w-64 h-64 bg-cyan-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40 -z-10"></div>

    <div class="p-6 flex items-center justify-between relative z-10 max-w-md mx-auto w-full">
      <a href="index.html" class="w-12 h-12 glass-panel rounded-2xl flex items-center justify-center text-emerald-700 text-xl font-bold shadow-sm hover:bg-white active:scale-90 transition-all"> ‚Üê </a>
      <h1 class="text-xl font-extrabold text-slate-800 tracking-tight">Hitung Zakat</h1>
      <div class="w-12 h-12"></div>
    </div>

    <div class="flex-1 w-full max-w-md mx-auto px-6 relative z-10">
      <div class="glass-panel p-2 rounded-2xl flex gap-2 mb-8 shadow-sm">
        <button onclick="switchTab('fitrah')" id="btn-fitrah" class="flex-1 py-3 rounded-xl text-sm font-bold bg-emerald-500 text-white shadow-sm transition-all">Zakat Fitrah</button>
        <button onclick="switchTab('mal')" id="btn-mal" class="flex-1 py-3 rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50 transition-all">Zakat Mal</button>
      </div>

      <div id="sec-fitrah" class="space-y-6 block animate-[fadeIn_0.3s_ease-in-out]">
        <div class="glass-panel p-6 rounded-3xl shadow-sm">
          <p class="text-xs font-bold text-emerald-600 uppercase tracking-wider mb-4">Parameter Perhitungan</p>

          <div class="mb-5">
            <label class="block text-sm font-semibold text-slate-700 mb-2">Jumlah Anggota Keluarga (Jiwa)</label>
            <div
              class="flex items-center bg-slate-50 border border-slate-200 rounded-xl overflow-hidden focus-within:border-emerald-500 focus-within:ring-2 focus-within:ring-emerald-200 transition-all"
            >
              <span class="px-4 text-slate-400">üë§</span>
              <input type="number" id="input-jiwa" value="1" min="1" class="w-full py-3 bg-transparent outline-none text-slate-800 font-bold" placeholder="Contoh: 4" oninput="hitungFitrah()" />
            </div>
          </div>

          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Harga Beras per Kg (Rp)</label>
            <div
              class="flex items-center bg-slate-50 border border-slate-200 rounded-xl overflow-hidden focus-within:border-emerald-500 focus-within:ring-2 focus-within:ring-emerald-200 transition-all"
            >
              <span class="px-4 text-slate-400 font-bold">Rp</span>
              <input type="number" id="input-harga-beras" value="15000" class="w-full py-3 bg-transparent outline-none text-slate-800 font-bold" placeholder="Contoh: 15000" oninput="hitungFitrah()" />
            </div>
            <p class="text-xs text-slate-400 mt-2 italic">*Standar takaran: 2,5 kg beras per jiwa.</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-emerald-500 to-teal-600 p-6 rounded-3xl shadow-lg text-white">
          <p class="text-sm font-bold text-emerald-100 mb-1 opacity-90">Total Zakat Fitrah Anda:</p>
          <div class="text-4xl font-black tracking-tight mb-4" id="hasil-fitrah-uang">Rp 37.500</div>
          <div class="flex items-center gap-2 bg-white/20 p-3 rounded-xl">
            <span class="text-2xl">üçö</span>
            <div>
              <p class="text-[10px] font-bold uppercase tracking-wider text-emerald-100">Atau Berupa Beras</p>
              <p class="font-bold text-lg" id="hasil-fitrah-beras">2.5 Kg</p>
            </div>
          </div>
        </div>
      </div>

      <div id="sec-mal" class="space-y-6 hidden animate-[fadeIn_0.3s_ease-in-out]">
        <div class="glass-panel p-6 rounded-3xl shadow-sm">
          <p class="text-xs font-bold text-emerald-600 uppercase tracking-wider mb-4">Harta Tersimpan (1 Tahun)</p>

          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Total Tabungan / Aset (Rp)</label>
            <div
              class="flex items-center bg-slate-50 border border-slate-200 rounded-xl overflow-hidden focus-within:border-emerald-500 focus-within:ring-2 focus-within:ring-emerald-200 transition-all"
            >
              <span class="px-4 text-slate-400 font-bold">Rp</span>
              <input type="number" id="input-harta" class="w-full py-3 bg-transparent outline-none text-slate-800 font-bold" placeholder="Contoh: 100000000" oninput="hitungMal()" />
            </div>
            <p class="text-xs text-slate-400 mt-2 leading-relaxed">*Masukkan harta yang telah mengendap selama 1 tahun (Haul). Zakat dikenakan sebesar 2,5%.</p>
          </div>
        </div>

        <div class="bg-gradient-to-br from-cyan-500 to-blue-600 p-6 rounded-3xl shadow-lg text-white text-center">
          <p class="text-sm font-bold text-cyan-100 mb-1 opacity-90">Kewajiban Zakat Mal (2,5%):</p>
          <div class="text-4xl font-black tracking-tight mb-2 break-words" id="hasil-mal">Rp 0</div>
          <p class="text-xs text-cyan-100 bg-white/20 inline-block px-3 py-1 rounded-full mt-2" id="status-nishab">Menunggu input...</p>
        </div>
      </div>
    </div>

    <script>
      // Formatter Uang Rupiah
      const formatRupiah = (angka) => {
        return new Intl.NumberFormat("id-ID", { style: "currency", currency: "IDR", minimumFractionDigits: 0 }).format(angka);
      };

      // Logika Switch Tab (Fitrah <-> Mal)
      function switchTab(tab) {
        const btnFitrah = document.getElementById("btn-fitrah");
        const btnMal = document.getElementById("btn-mal");
        const secFitrah = document.getElementById("sec-fitrah");
        const secMal = document.getElementById("sec-mal");

        if (tab === "fitrah") {
          btnFitrah.className = "flex-1 py-3 rounded-xl text-sm font-bold bg-emerald-500 text-white shadow-sm transition-all";
          btnMal.className = "flex-1 py-3 rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50 transition-all";
          secFitrah.classList.remove("hidden");
          secMal.classList.add("hidden");
        } else {
          btnMal.className = "flex-1 py-3 rounded-xl text-sm font-bold bg-emerald-500 text-white shadow-sm transition-all";
          btnFitrah.className = "flex-1 py-3 rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50 transition-all";
          secMal.classList.remove("hidden");
          secFitrah.classList.add("hidden");
        }
      }

      // Logika Hitung Zakat Fitrah
      function hitungFitrah() {
        const jiwa = parseFloat(document.getElementById("input-jiwa").value) || 0;
        const harga = parseFloat(document.getElementById("input-harga-beras").value) || 0;

        const totalBeras = jiwa * 2.5; // 2.5 kg per orang
        const totalUang = totalBeras * harga;

        document.getElementById("hasil-fitrah-beras").innerText = totalBeras + " Kg";
        document.getElementById("hasil-fitrah-uang").innerText = formatRupiah(totalUang);
      }

      // Logika Hitung Zakat Mal
      function hitungMal() {
        const harta = parseFloat(document.getElementById("input-harta").value) || 0;
        const nishabEmas = 85 * 1000000; // Asumsi harga emas 1jt/gram * 85 gram

        const zakat = harta * 0.025; // 2.5%
        const hasilEl = document.getElementById("hasil-mal");
        const statusEl = document.getElementById("status-nishab");

        hasilEl.innerText = formatRupiah(zakat);

        if (harta === 0) {
          statusEl.innerText = "Menunggu input...";
          statusEl.classList.replace("bg-red-500/50", "bg-white/20");
        } else if (harta < nishabEmas) {
          statusEl.innerText = "‚ö†Ô∏è Belum mencapai Nishab (Batas Wajib)";
          statusEl.classList.replace("bg-white/20", "bg-red-500/50");
        } else {
          statusEl.innerText = "‚úÖ Telah mencapai Nishab. Wajib Zakat.";
          statusEl.classList.replace("bg-red-500/50", "bg-white/20");
        }
      }

      // Jalankan hitungan awal saat halaman dimuat
      window.onload = hitungFitrah;
    </script>
  </body>
</html>
