<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dzikir Harian - NgajiYuk</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet" />
    <style>
      body {
        font-family: "Plus Jakarta Sans", sans-serif;
      }
      .font-arab {
        font-family: "Amiri", serif;
        line-height: 2.5;
      }
      .glass-panel {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.6);
      }
      /* Animasi pop saat counter di-klik */
      .pop-anim:active {
        transform: scale(0.95);
      }
    </style>
  </head>
  <body class="bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-100 min-h-screen flex flex-col relative pb-10 text-slate-800">
    <div class="fixed top-0 left-0 w-64 h-64 bg-emerald-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40 -z-10"></div>
    <div class="fixed bottom-0 right-0 w-64 h-64 bg-cyan-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40 -z-10"></div>

    <div class="p-6 flex items-center justify-between relative z-10 max-w-2xl mx-auto w-full">
      <a href="index.html" class="w-12 h-12 glass-panel rounded-2xl flex items-center justify-center text-emerald-700 text-xl font-bold shadow-sm hover:bg-white active:scale-90 transition-all">←</a>
      <h1 class="text-xl font-extrabold text-slate-800 tracking-tight">Dzikir Harian</h1>
      <div class="w-12 h-12"></div>
    </div>

    <div class="flex-1 w-full max-w-2xl mx-auto px-4 sm:px-6 relative z-10">
      <div class="text-center mb-8">
        <h2 class="text-3xl font-black text-slate-800 mb-2">Al-Ma'tsurat</h2>
        <p class="text-slate-500 text-sm">Amalan dzikir penguat jiwa dan pelindung diri.</p>
      </div>

      <div id="dzikir-container" class="space-y-6"></div>

      <div class="text-center mt-10 pb-6 hidden" id="done-message">
        <div class="w-16 h-16 bg-emerald-500 text-white rounded-full flex items-center justify-center text-3xl mx-auto mb-4 shadow-lg shadow-emerald-200">✅</div>
        <h3 class="text-xl font-bold text-slate-800">Alhamdulillah!</h3>
        <p class="text-slate-500 text-sm">Semua dzikir telah selesai dibaca.</p>
      </div>
    </div>

    <script>
      // Database Mini Dzikir
      const dzikirData = [
        {
          id: 1,
          judul: "Membaca Ayat Kursi",
          arab: "اللّٰهُ لَآ اِلٰهَ اِلَّا هُوَۚ اَلْحَيُّ الْقَيُّوْمُ ەۚ لَا تَأْخُذُهٗ سِنَةٌ وَّلَا نَوْمٌۗ",
          latin: "Allahu laa ilaaha illaa huwal hayyul qoyyuum, laa ta'khudzuhuu sinatuw walaa nauum...",
          arti: "Allah, tidak ada Tuhan (yang berhak disembah) melainkan Dia Yang Hidup kekal lagi terus menerus mengurus (makhluk-Nya)...",
          target: 1,
        },
        {
          id: 2,
          judul: "Dzikir Kerelaan Hati",
          arab: "رَضِيْتُ بِاللهِ رَبًّا، وَبِالْإِسْلَامِ دِيْنًا، وَبِمُحَمَّدٍ نَبِيًّا",
          latin: "Rodhiitu billaahi robbaa, wabil-islaami diinaa, wa bimuhammadin nabiyyaa.",
          arti: "Aku rela Allah sebagai Tuhanku, Islam sebagai agamaku, dan Muhammad sebagai Nabiku.",
          target: 3,
        },
        {
          id: 3,
          judul: "Tasbih & Tahmid",
          arab: "سُبْحَانَ اللهِ وَبِحَمْدِهِ",
          latin: "Subhanallahi wa bihamdih.",
          arti: "Maha Suci Allah dan segala puji bagi-Nya.",
          target: 33,
        },
      ];

      // Objek untuk menyimpan jumlah klik user
      let hitungan = {};

      const container = document.getElementById("dzikir-container");

      function renderDzikir() {
        container.innerHTML = "";
        let semuaSelesai = true;

        dzikirData.forEach((item, index) => {
          // Set hitungan awal jadi 0 jika belum ada
          if (hitungan[item.id] === undefined) {
            hitungan[item.id] = 0;
          }

          let count = hitungan[item.id];
          let isDone = count >= item.target;

          if (!isDone) semuaSelesai = false;

          // Tampilan Tombol Counter
          let buttonUI = isDone
            ? `<button disabled class="w-full bg-emerald-100 text-emerald-600 border-2 border-emerald-500 py-4 rounded-2xl font-black text-xl flex items-center justify-center gap-2 transition-all">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg> Selesai
                       </button>`
            : `<button onclick="tambahHitungan(${item.id}, ${item.target})" class="pop-anim w-full bg-slate-900 text-white hover:bg-emerald-600 py-4 rounded-2xl font-black text-xl shadow-lg transition-all flex items-center justify-between px-6">
                        <span class="text-sm font-normal text-slate-300">Tekan untuk menghitung</span>
                        <span>${count} / ${item.target}</span>
                       </button>`;

          container.innerHTML += `
                    <div class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 relative overflow-hidden transition-all duration-300 ${isDone ? "opacity-70" : ""}">
                        ${isDone ? '<div class="absolute top-0 right-0 w-16 h-16 bg-emerald-50 rounded-bl-[3rem] -z-0"></div>' : ""}
                        
                        <div class="relative z-10">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-emerald-500 font-bold text-sm tracking-wider uppercase">${item.judul}</span>
                                <span class="bg-slate-100 text-slate-500 text-xs font-bold px-3 py-1 rounded-lg">Dibaca ${item.target}x</span>
                            </div>
                            
                            <p class="font-arab text-3xl text-right text-slate-800 mb-4 leading-[3.5rem]" dir="rtl">${item.arab}</p>
                            <p class="text-emerald-600 font-semibold text-sm mb-2 leading-relaxed">${item.latin}</p>
                            <p class="text-slate-500 text-sm leading-relaxed mb-6">"${item.arti}"</p>
                            
                            ${buttonUI}
                        </div>
                    </div>
                `;
        });

        // Munculkan pesan selesai kalau semua dzikir kecentang
        if (semuaSelesai && dzikirData.length > 0) {
          document.getElementById("done-message").classList.remove("hidden");
        }
      }

      // Fungsi saat tombol counter ditekan
      window.tambahHitungan = function (id, target) {
        if (hitungan[id] < target) {
          hitungan[id]++;
          renderDzikir(); // Update layar

          // Kasih efek getar dikit di HP kalau ngetap
          if (navigator.vibrate) navigator.vibrate(50);
        }
      };

      // Jalankan pertama kali
      renderDzikir();
    </script>
  </body>
</html>
